Аналитик передает архитектору оценочный чеклист стандарта CloudNative, в котором заявлено **соответствие** приложения следующим требованиям стандарта.

### Эластичность

* Поддержка возможности среды исполнения изменять параметры масштабирования вверх или вниз в режиме, приближенном к реальному времени, на основании заданных критериев.
  * **STD-CN-RS-3.1** Горизонтальное масштабирование должно быть обеспечено через создание stateless экземпляров исполняемых компонент средствами оркестратора контейнеров

### Проектирование и разработка, изначально нацеленная на устойчивость к сбоям

* Готовность к отказу и автоматическому самовосстановлению любого из исполняемых компонентов приложения и внешних исполняемых компонентов/сервисов, от которых оно зависит
  * **STD-CN-NT-2.63** Обеспечить готовность приложения к тестированию посредством отключения любых исполняемых компонентов, включая управляемые инфраструктурные сервисы, сервисы среды исполнения или внесения нарушений SLA от любых компонентов в систему (Fault injections/chaos engineering) на всех окружениях, включая production.
  * **STD-CN-SI-2** Гарантировать работу приложения с количеством реплик пода от 2 и более

### Информационная безопасность приложений

* **STD-CN-NI-1.1** Обеспечивать шифрование трафика между исполняемыми компонентами  централизовано на уровне service mesh

## Задание для архитектора

1. Архитектор должен убедиться, что аналитик предоставил корректную оценку.
1. Архитектор самостоятельно или вместе с командой должен предложить способы устранения отклонений от стандарта.  

Для решения задания, архитектор может применить следующие способы диагностики отклонений от стандарта

* Автоматические CloudNative проверки
* Ручной контроль конфигурационных файлов приложения
* Хаос тест (внесение нарушений SLA от любых компонентов в систему)

## Автоматическая CloudNative проверка

1. Запустите `checklist.sh`{{execute T1}}, для выполнения rego проверок (см файл checklist.rego).
2. Определите на основании проверки отклонения от стандарта

## Хаос-тест

Цель - проверка постоянной готовности приложения к сбоям любой из его частей.

Методика теста - в бесконечном цикле удаляем произвольные Pod приложения.

Запустите хаос-тест `nohup chaostest.sh > /tmp/chaos.log 2>&1 </dev/null &`{{execute T1}}

Проведите наблюдение в Kiali за динамикой работы приложения https://[[HOST_SUBDOMAIN]]-31546-[[KATACODA_HOST]].environments.katacoda.com/

## Исправьте проблемы

1. Исправьте проблемы в файлах объектов приложения
1. Повторно запустите автоматические CloudNative проверки `checklist.sh`{{execute T1}} для самоконтроля.
1. Отправить результат (TODO).
